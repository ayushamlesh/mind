
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Payment Operations Console</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>
body{background:#f4f6f9;font-family:Inter,sans-serif}
.card-ui{background:#fff;border-radius:14px;padding:16px;box-shadow:0 4px 12px rgba(0,0,0,.06)}
.metric{font-size:26px;font-weight:600}
.neg{color:#dc3545}
.warn{color:#fd7e14}
.pos{color:#198754}
.muted{color:#6c757d}
.beh-card{cursor:pointer;transition:.2s}
.beh-card:hover{transform:translateY(-3px)}
#storeView{display:none}
</style>
</head>

<body>

<nav class="navbar navbar-dark bg-dark px-4">
<span class="navbar-brand fw-semibold">
<i class="bi bi-credit-card"></i> Payment Operations Console
</span>

<select class="form-select form-select-sm w-auto" onchange="selectStore(this.value)">
<option value="">All Stores</option>
<option value="101">Store 101</option>
<option value="108">Store 108</option>
</select>
</nav>

<div class="container-fluid p-4">

<!-- ================= HOME ================= -->
<div id="globalView">

<div class="alert alert-warning">
Approval deviation detected in 2 stores vs yesterday.
</div>

<div class="row g-4 mb-4">
<div class="col-md-3"><div class="card-ui text-center"><div class="muted">Total Stores</div><div class="metric">200</div></div></div>
<div class="col-md-3"><div class="card-ui text-center"><div class="muted">Overall Approval</div><div class="metric">94.1%</div></div></div>
<div class="col-md-3"><div class="card-ui text-center"><div class="muted">Stores Impacted</div><div class="metric warn">10</div></div></div>
<div class="col-md-3"><div class="card-ui text-center"><div class="muted">Active Terminals</div><div class="metric">96%</div></div></div>
</div>

<div class="row g-4 mb-4">
<div class="col-md-4">
<div class="card-ui beh-card" onclick="filterStoreBand('healthy')">
üü¢ Healthy Stores<br><span class="metric">162</span>
</div>
</div>
<div class="col-md-4">
<div class="card-ui beh-card" onclick="filterStoreBand('watch')">
üü° Watch Stores<br><span class="metric">28</span>
</div>
</div>
<div class="col-md-4">
<div class="card-ui beh-card" onclick="filterStoreBand('impacted')">
üî¥ Impacted Stores<br><span class="metric">10</span>
</div>
</div>
</div>

<div class="card-ui">
<h6>Top Impacted Stores</h6>
<table class="table table-sm">
<thead>
<tr>
<th>Store</th><th>Approval</th><th>Vs Yesterday</th>
<th>Impacted Terminals</th><th>Top Reason</th>
</tr>
</thead>
<tbody id="storeTable"></tbody>
</table>
</div>

</div>

<!-- ================= STORE DETAIL ================= -->
<div id="storeView">

<button class="btn btn-sm btn-outline-secondary mb-3" onclick="selectStore('')">
‚Üê Back to All Stores
</button>

<h5 id="storeTitle" class="mb-3"></h5>

<div class="row g-4 mb-4">
<div class="col-md-3"><div class="card-ui"><div class="muted">Approval</div><div class="metric" id="storeApproval"></div></div></div>
<div class="col-md-3"><div class="card-ui"><div class="muted">Yesterday</div><div class="metric" id="storeYesterday"></div></div></div>
<div class="col-md-3"><div class="card-ui"><div class="muted">Txns</div><div class="metric" id="storeTxns"></div></div></div>
<div class="col-md-3"><div class="card-ui"><div class="muted">Impacted Terminals</div><div class="metric warn" id="storeImpacted"></div></div></div>
</div>

<div class="card-ui">
<h6>Terminal Summary</h6>
<table class="table table-sm">
<thead>
<tr><th>Terminal</th><th>Txns</th><th>Approval</th><th>Status</th></tr>
</thead>
<tbody id="terminalTable"></tbody>
</table>
</div>

</div>

</div>

<script>
const stores=[
{id:"101",name:"Store 101",approval:92.4,yesterday:95.1,imp:5,reason:"HOST_TIMEOUT"},
{id:"108",name:"Store 108",approval:89.7,yesterday:93.8,imp:7,reason:"NO_RESPONSE"}
];

function renderStores(){
const tb=document.getElementById("storeTable");
tb.innerHTML="";
stores.forEach(s=>{
const diff=(s.approval-s.yesterday).toFixed(1);
tb.innerHTML+=`
<tr onclick="selectStore('${s.id}')" style="cursor:pointer">
<td>${s.name}</td>
<td>${s.approval}%</td>
<td class="${diff<0?'neg':'pos'}">${diff}%</td>
<td>${s.imp}</td>
<td>${s.reason}</td>
</tr>`;
});
}

function selectStore(id){
if(!id){
document.getElementById("storeView").style.display="none";
document.getElementById("globalView").style.display="block";
return;
}
const s=stores.find(x=>x.id===id);
document.getElementById("globalView").style.display="none";
document.getElementById("storeView").style.display="block";
document.getElementById("storeTitle").innerText=s.name;
document.getElementById("storeApproval").innerText=s.approval+"%";
document.getElementById("storeYesterday").innerText=s.yesterday+"%";
document.getElementById("storeTxns").innerText="12,480";
document.getElementById("storeImpacted").innerText=s.imp;

document.getElementById("terminalTable").innerHTML=`
<tr><td>FP-01</td><td>420</td><td>96%</td><td>Healthy</td></tr>
<tr><td>FP-02</td><td>360</td><td>88%</td><td class="warn">Degraded</td></tr>
<tr><td>FP-03</td><td>300</td><td>81%</td><td class="neg">Impacted</td></tr>`;
}

renderStores();
</script>

</body>
</html>
